<!doctype html>
<html>

<head>
  <meta name="viewport" content="width=400, user-scalable=no" />
  <meta name="theme-color" content="#000000" />
  <title>(t,i,x,y) => "creative code golfing"</title>
  <meta name="description"
    content="A minimalist coding environment. Control 16x16 points with a single JavaScript function.">

  <!--
  <link rel="apple-touch-icon" sizes="180x180" href="./apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="data:image">
  -->

  <link rel="icon" type="image/png" sizes="16x16" href="data:image/png;base64,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"

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@aemkei" />
  <meta name="twitter:title" content="(t,i,x,y,z) => '3d creative code golfing'" />
  <meta name="twitter:description"
    content="A minimalist coding environment. Control 16x16 cube with a single JavaScript function. Inspired by @aemkei" />
  <meta name="twitter:image" content="https://tixy.land/twitter-card.png" />
  <style>
    html {
      background-color: #000;
      color: #fff;
      height: 100%
    }

    * {
      box-sizing: border-box
    }

    a:link,
    a:visited {
      color: #f24
    }

    *,
    html,
    input {
      font-family: monospace;
      font-size: 14px
    }

    body {
      padding: 0;
      margin: 0;
      display: grid;
      align-items: center;
      justify-items: center;
      height: 100%
    }

    #editor,
    #output,
    input,
    label {
      display: block
    }

    #editor {
      width: 272px;
      line-height: 1.15em
    }

    #comment {
      color: #f24
    }

    #input {
      background: 0 0;
      color: #fff;
      padding: 0;
      margin: .15em 0;
      border: 0;
      width: 100%
    }

    #input:focus {
      outline: 0
    }

    #code-runner {
      display: none
    }

    button {
      background-color: black;
      color: white;
      float: right;
    }

    button:focus {
      outline: none;
    }
  </style>
</head>

<body>
  <div>
    <canvas id="output"></canvas>
    <button>&gt;&gt;</button>
  </div>

  <form id="editor">
    <div id="comment">
      <label for="input">// tixy - creative code golfing</label>
      <label for="input">// click the dots for more</label>
    </div>

    <label id="label" for="input">(t,i,x,y,z) =></label>
    <input name="code" id="input" type="text" value="Math.sin(y/8 + t)" autocomplete="off" autocapitalize="off"
      spellcheck="false" autocorrect="off" maxlength="32" />
    </div>

    <iframe id="code-runner" sandbox="allow-same-origin"></iframe>
    <script type="module">
      import * as THREE from 'https://threejsfundamentals.org/threejs/resources/threejs/r113/build/three.module.js';
      import * as oc from 'https://threejsfundamentals.org/threejs/resources/threejs/r113/examples/jsm/controls/OrbitControls.js';

      function sphere(color) {
        let geometry = new THREE.SphereGeometry(0.48, 16, 16);
        //let material = new THREE.MeshBasicMaterial({ color });
        let material = new THREE.MeshPhongMaterial({ color: 0x156289, emissive: 0x072534, flatShading: true });
        let shape = new THREE.Mesh(geometry, material);
        // shape.position.x = wp.x;
        // shape.position.y = wp.y;
        // shape.position.z = wp.z;
        return shape;
      }

      const count = 16;
      const size = 16;
      const spacing = 1;
      const width = count * (size + spacing);

      const output = document.getElementById('output');
      output.width = output.height = width;

      const scene = new THREE.Scene();
      const color = 0xFFFFFF;
      const intensity = 1;
      const light = new THREE.DirectionalLight(color, intensity);
      light.position.set(-1, 10, 4);
      scene.add(light);
      const ambient_light = new THREE.AmbientLight(0x404040); // soft white light
      scene.add(ambient_light);

      let canvas = document.querySelector("#output");
      let renderer = new THREE.WebGLRenderer({ canvas });

      window.scene = scene;
      window.canvas = canvas;
      window.renderer = renderer;

      let camera = new THREE.PerspectiveCamera(
        50,
        1.0,
        1.0,
        1000,
      );
      camera.position.set(0, 0, 30.0);
      let controls = new oc.OrbitControls(camera, canvas);

      // import examples from './examples.json';
      window.examples = {
        "return the visibility\nfor every dot (true|false)": "Math.random() < 0.1",
        "the radius can also be \nbetween 0 and 1": "Math.random()",
        "parameter `t` is \nthe time in seconds": "Math.sin(t)",
        "param `i` is the index \nof the dot (0..255)": "i / 256",
        "`x` is the column index\n from 1 to 16": "x / 16",
        "`y` is the row\n also from 1 to 16": "y / 16",
        "positive numbers are white,\nnegatives are red": "y - 8.5",
        "use the time\nto animate values": "y - t",
        "multiply the time\nto change the speed": "y - t*4",
        "create patterns using \ndifferent color": "[1, 0, -1][i%3]",
        "more examples ...": "Math.sin(y/8 + t)",
        "simple triangle": "y - x",
        "quarter triangle": "(y > x) && (16-x < y)",
        "pattern": "i%4 - y%4",
        "grid": "x%4 && y%4",
        "square": "x>4 & y>4 & x<12 & y<12",
        "animated square": "-(x>t & y>t & x<16-t & y<16-t)",
        "mondrian squares": "(y-6) * (x-6)",
        "moving cross": "(y-4*t|0) * (x-8-t|0)",
        "sierpinski": "4 * t & i & x & y",
        "binary clock": "(t*10) & (1<<x) && y==8",
        "random noise": "Math.random() * 2 - 1",
        "smooth noise": "Math.sin(i ** 2)",
        "animated smooth noise": "Math.cos(t + i*x*y)",
        "waves": "Math.sin(x/2)-Math.sin(x-t)-y+6",
        "ripples\bby @thespite": "Math.sin(t-Math.sqrt(x*x+y*y))",
        "diagonals": "y == x || -(17-x == y)",
        "wipe": "(x-y) - Math.sin(t) * 16",
        "soft wipe": "(x-y)/24 - Math.sin(t)",
        "disco": "Math.sin(t*5) * Math.tan(t*7)",
        "input is limited \nto 32 characters!": "(x-5)**2+(y-5)**2-99*Math.sin(t)",
        "click here to \ncreate your own": "'HAVE FUN!'"
      }

      const runner = document.getElementById('code-runner').contentWindow;
      const input = document.getElementById('input');
      const editor = document.getElementById('editor');
      const comment = document.getElementById('comment');
      const context = output.getContext('2d');

      let callback = function () { };
      let startTime = new Date();
      let code = '';

      const cells = [];

      function should_render(x, y, z) {
        return false ||
          z == 0 ||
          z == 15 ||
          // y == 0 ||
          // y == 15 ||
          x == 0 ||
          x == 15

      }

      for (let z = 0, index = 0; z < count; z++) {
        for (let y = 0, index = 0; y < count; y++) {
          for (let x = 0; x < count; x++) {
            if (!should_render(x, y, z)) continue;
            index++;

            // cells.push({
            //   index,
            //   x,
            //   y
            // });
            let shape = sphere(0xffffff);
            shape.position.x = x - 7.5;
            shape.position.y = y - 7.5;
            shape.position.z = z - 7.5;
            scene.add(shape);
            cells.push(shape);
          }
        }
      }
      window.cells = cells;

      function readURL() {
        const url = new URL(document.location);

        if (url.searchParams.has('code')) {
          input.value = url.searchParams.get('code');
        }
      }

      readURL();

      function updateCallback() {
        code = input.value;
        startTime = new Date();

        try {
          callback = runner.eval(`
      (function f(t,i,x,y,z) {
        try {
          let sin = Math.sin
          let cos = Math.cos
          let tan = Math.tan
          let abs = Math.abs
          let ran = Math.random
          return ${code.replace(/\\/g, ';')};
        } catch (error) {
          return error;
        }
      })
    `);
        } catch (error) {
          callback = null;
        }
      }

      updateCallback();
      input.addEventListener('input', updateCallback);

      input.addEventListener('focus', function () {
        updateComments(['hit "enter" to save in URL', 'or get <a href="https://twitter.com/aemkei/status/1323399877611708416" target="_blank">more info here</a>']);
      });

      input.addEventListener('blur', updateCommentsForCode);

      editor.addEventListener('submit', (event) => {
        event.preventDefault();
        const url = new URL(document.location);
        url.searchParams.set('code', code);
        history.replaceState(null, code, url);
      });

      function render() {
        // scene.remove(...scene.children);
        const time = (new Date() - startTime) / 1000;

        if (!callback) {
          window.requestAnimationFrame(render);
          return;
        }

        output.width = output.height = width;
        let index = 0;
        for (let z = 1; z <= count; z++) {
          for (let y = 1; y <= count; y++) {
            for (let x = 1; x <= count; x++) {
              if (!should_render(x - 1, y - 1, z - 1)) continue;
              index++;

              const value = callback(time, index, x, y, z);
              const offset = size / 2;
              let color = '#FFF';
              let radius = (value * size) / 2;

              if (radius < 0) {
                radius = -radius;
                color = '#F24';
              }

              if (radius > size / 2) {
                radius = size / 2;
              }

              let scale = radius / (size / 2);
              let shape = cells[index - 1];
              shape.material.color = new THREE.Color(color);
              shape.scale.x = scale + 0.00001;
              shape.scale.y = scale + 0.00001;
              shape.scale.z = scale + 0.00001;

              //   context.beginPath();
              //   context.fillStyle = color;
              //   context.arc(
              //     x * (size + spacing) - offset,
              //     y * (size + spacing) - offset,
              //     radius,
              //     0,
              //     2 * Math.PI
              //   );
              //   context.fill();
            }
          }
        }

        controls.update();
        renderer.render(scene, camera);

        window.requestAnimationFrame(render);
      }

      render();

      function updateComments(comments) {
        const lines = comment.querySelectorAll('label');

        if (comments.length === 1) {
          lines[0].innerHTML = '&nbsp;';
          lines[1].innerHTML = `// ${comments[0]}`;
        } else {
          lines[0].innerHTML = `// ${comments[0]}`;
          lines[1].innerHTML = `// ${comments[1]}`;
        }
      }

      function updateCommentsForCode() {

        const code = input.value;

        const snippets = Object.values(examples);
        const comments = Object.keys(examples);
        const index = snippets.indexOf(code);
        const newComments = comments[index].split('\n');

        updateComments(newComments);
      }

      function nextExample() {
        const snippets = Object.values(examples);

        let index = snippets.indexOf(code);

        if (snippets[index + 1]) {
          index = index + 1;
        } else {
          return;
        }

        const newCode = snippets[index];
        input.value = newCode;

        updateCommentsForCode();

        // history.replaceState({
        //   code: newCode,
        //   comment: newComment
        // }, code, `?code=${encodeURIComponent(newCode)}`);

        updateCallback();
      }

      document.querySelector("button").addEventListener('click', nextExample);

      window.onpopstate = function (event) {
        readURL();
        updateCallback();
      };


      updateCommentsForCode();

    </script>
</body>

</html>